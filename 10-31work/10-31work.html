<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
		<style type="text/css">
			#num1,#num2{
				width: 50px;
			}
		</style>
	</head>
	<body>
		<div id="zdiv">
			<table border="1" cellspacing="2" cellpadding="2">
				<tr>
					<td><input type="checkbox" id="in1" value="" /></td>
					<td><span>华为mate20</span></td>
					<td><span>数量：</span><input type="number" id="num1" value="0" disabled="disabled"/></td>
					<td><span>单价：<b id="danjia1">8888</b></span></td>
					<td><span>合计：<b id="heji1">0</b></span></td>
				</tr>
				<tr>
					<td><input type="checkbox" id="in2" value="" /></td>
					<td><span>小米8</span></td>
					<td><span>数量：</span><input type="number" id="num2" value="0" disabled="disabled"/></td>
					<td><span>单价：<b id="danjia2">888</b></span></td>
					<td><span>合计：<b id="heji2">0</b></span></td>
				</tr>
			</table>
			<div>
				<td><h4>共<span id="gjsp">0</span>件商品</h4></td>
				<td><h4>合计<span id="hjy">0</span>元</h4></td>
			</div>
		</div>
		<script type="text/javascript">
			$(function(){
				$("#in1").change(function(){
					if($("#in1").prop("checked")==true){
						$("#num1").val(1).removeAttr("disabled").change(function(){
							if($("#num1").val()>0){
								var num0 = $("#num1").val()*$("#danjia1").text();
								$("#heji1").text(num0);
								$("#gjsp").text(Number($("#num1").val()));
								$("#hjy").text(Number($("#heji1").text())+Number($("#heji2").text()));
							}else if($("#num1").val()==0){
								$("#num1").val(0).attr("disabled","disabled");
								$("#in1").prop("checked",false);
								$("#heji1").text(0);
							}
						})
						$("#heji1").text($("#danjia1").text()*$("#num1").val());
						$("#hjy").text(Number($("#heji1").text())+Number($("#heji2").text()));
					}else{
						$("#heji1").text(0);
						$("#num1").val(0).attr("disabled","disabled");
						
					}
					$("#gjsp").text(Number($("#num1").val()));
				})
				$("#in2").change(function(){
					if($("#in2").prop("checked")==true){
						$("#num2").val(1).removeAttr("disabled").change(function(){
							if($("#num2").val()>0){
								var num0 = $("#num2").val()*$("#danjia2").text();
								$("#heji2").text(num0);
								$("#gjsp").text(Number($("#num1").val())+Number($("#num2").val()));
								$("#hjy").text(Number($("#heji1").text())+Number($("#heji2").text()));
							}else if($("#num2").val()==0){
								$("#num2").val(0).attr("disabled","disabled");
								$("#in2").prop("checked",false);
								$("#heji2").text(0);
							}
						})
						$("#heji2").text($("#danjia2").text());
						$("#hjy").text(Number($("#heji1").text())+Number($("#heji2").text()));
					}else{
						$("#heji2").text(0);
						$("#num2").val(0).attr("disabled","disabled");
						$("#hjy").text(0);
					}
					
				})
				$("#in1,#in2").change(function(){
					$("#gjsp").text(Number($("#num1").val())+Number($("#num2").val()));
					$("#num1,#num2").change(function(){
						$("#gjsp").text(Number($("#num1").val())+Number($("#num2").val()));
						$("#hjy").text(Number($("#heji1").text())+Number($("#heji2").text()));
					})
					$("#hjy").text(Number($("#heji1").text())+Number($("#heji2").text()));
				})
				
				
			});
		</script>
	</body>
</html>
